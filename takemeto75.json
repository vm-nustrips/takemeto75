{
  "project": {
    "name": "TakeMeTo75",
    "tagline": "Because life's too short for bad weather",
    "description": "AI-powered travel booking platform that finds destinations with perfect 75¬∞F weather for quick, convenient getaways",
    "live_url": "https://takemeto75.vercel.app",
    "github_repo": "https://github.com/vm-nustrips/takemeto75.git",
    "current_version": "v2.0"
  },

  "versions": {
    "v1.0": {
      "status": "ARCHIVED",
      "date": "2025-12-26",
      "backup": "takemeto75_backup_20251226.zip",
      "description": "Original baseline build",
      "features": [
        "6 destinations with weather filtering",
        "3-tier system (Base/Premium/Luxe)",
        "AI-powered package selection",
        "Weather API integration",
        "Duffel API for flights",
        "Geolocation detection"
      ]
    },
    "v2.0": {
      "status": "CURRENT - Live",
      "date": "2026-02-01",
      "description": "Restructured codebase + security hardening",
      "features": [
        "Renamed lib/destinations.ts ‚Üí lib/destination-catalog.ts",
        "Renamed /api/destinations ‚Üí /api/discover",
        "All API keys in Vercel env vars (Dev/Preview/Production)",
        "Removed hardcoded secrets from repo",
        "Comprehensive .gitignore",
        "22 destinations, 100+ origin airports"
      ]
    }
  },

  "tech_stack": {
    "framework": "Next.js 14",
    "language": "TypeScript",
    "styling": "Tailwind CSS",
    "deployment": "Vercel",
    "version_control": "GitHub"
  },

  "apis": {
    "weather": {
      "provider": "WeatherAPI",
      "key_env_var": "WEATHER_API_KEY",
      "test_key": "[REDACTED - set in Vercel env]",
      "usage": "Real-time 5-day forecasts for destination filtering"
    },
    "flights": {
      "provider": "Duffel",
      "key_env_var": "DUFFEL_API_TOKEN",
      "test_key": "[REDACTED - set in Vercel env]",
      "live_key": "duffel_live_VHXN__p... (set in Vercel)",
      "status": "WORKING - verified Jan 8, 2026 with real American Airlines data",
      "usage": "Flight search, booking, Duffel Links checkout"
    },
    "ai": {
      "provider": "Anthropic Claude",
      "key_env_var": "ANTHROPIC_API_KEY",
      "branding": "Referenced as 'Our AI' in UI (never 'Claude')",
      "usage": "Intelligent package selection, destination summaries, tier optimization"
    },
    "hotels": {
      "primary_option": {
        "provider": "Duffel Stays",
        "status": "NOT ENABLED - contacted sales@duffel.com Jan 8, 2026",
        "notes": "Same ecosystem as flights, fastest path to real hotel data"
      },
      "backup_option": {
        "provider": "Booking.com via AWIN",
        "status": "Pending AWIN affiliate approval (stuck)",
        "notes": "Could be days or weeks"
      },
      "current_fallback": "Mock hotel data in lib/hotels.ts + Google Hotels deep links",
      "blocker": "No real hotel inventory until Duffel Stays enabled or Booking.com approved"
    }
  },

  "design": {
    "aesthetic": "Salty-inspired neo-brutalist",
    "fonts": {
      "display": "Archivo Black",
      "body": "DM Sans"
    },
    "colors": {
      "coral": "#E86B4F",
      "coral_dark": "#D15A40",
      "cream": "#FDF8F3",
      "forest": "#2D4739",
      "forest_light": "#3D5A4A",
      "sand": "#F5E6D3"
    },
    "ui_elements": {
      "cards": "3px solid forest border, 6px 6px 0 forest box-shadow, 20px border-radius",
      "buttons": "3px border, 4px 4px 0 box-shadow, 50px border-radius, uppercase",
      "hover_effect": "translate(-2px, -2px) with increased shadow"
    },
    "critical_rules": [
      "Maintain 3D box-shadow effects on cards and buttons",
      "Keep Archivo Black font for display text",
      "Preserve coral/forest/cream color palette",
      "Destinations displayed above the fold for conversion",
      "No emojis unless user message contains them"
    ]
  },

  "tier_system": {
    "base": {
      "label": "Base",
      "price_range": "$400-700",
      "cabin_class": "economy",
      "hotels": "3-star",
      "selection_logic": "Best overall VALUE considering price, duration, and stops together - not just cheapest",
      "airline_restrictions": "None"
    },
    "premium": {
      "label": "Premium",
      "price_range": "$700-1,200",
      "cabin_class": ["economy", "premium_economy"],
      "hotels": "4-star",
      "selection_logic": "Best CONVENIENCE and comfort - willing to pay 30-40% more for nonstop flights from reputable airlines",
      "airline_restrictions": "Avoid ultra-budget carriers (Spirit, Ryanair)"
    },
    "luxe": {
      "label": "Luxe",
      "price_range": "$1,500-3,000+",
      "cabin_class": ["business", "premium_economy", "economy_fallback"],
      "hotels": "5-star luxury brands (Four Seasons, Ritz-Carlton, Park Hyatt)",
      "selection_logic": "MUST offer business class when available with premium airlines ONLY - fallback to premium economy if no business, economy only as last resort",
      "airline_restrictions": "Premium carriers only (Emirates, Singapore, Qatar, BA, Lufthansa, Delta One, United Polaris, American Flagship)"
    }
  },

  "flight_selection_principles": {
    "core_philosophy": "This is about QUICK, CONVENIENT GETAWAYS - prioritize convenience and value over just finding cheapest",
    "nonstop_priority": "Nonstop destinations should ALWAYS appear at top of lists",
    "departure_window": "Leaving within 72 hours - find best prices in that window",
    "default_trip_type": "Round-trip enabled by default",
    "trip_length": "Default 3 nights with +/- toggle for real-time price updates",
    "budget_airlines_handling": {
      "base": "Acceptable",
      "premium": "Avoid",
      "luxe": "Never"
    }
  },

  "weather_filtering": {
    "target_temp": "75¬∞F (range: 69-78¬∞F acceptable)",
    "cloudy_day_limit": "Exclude destinations with more than 2 fully cloudy days",
    "cloudy_upgrade": "Upgrade 'cloudy'/'overcast' conditions to 'partly cloudy' with sun-cloud icons",
    "forecast_days": 5
  },

  "ui_components": {
    "homepage": {
      "destinations_count": 6,
      "display": "Above the fold for conversion",
      "each_card_shows": ["City name", "Country", "5-day weather forecast with icons", "Average temp"]
    },
    "tier_selection_modal": {
      "layout": "No scroll - everything fits on one screen",
      "content": [
        "Compact header with city name",
        "AI summary (3-4 lines max) with timing hooks",
        "Tips with emojis displayed below summary",
        "5-day weather bar (compact)",
        "3 tier cards with dynamic price estimates"
      ]
    },
    "package_result_modal": {
      "layout": "No scroll - compact single screen",
      "content": [
        "Flight card (shows airline, cabin, duration, stops)",
        "Hotel card (shows name, stars, rating, nights)",
        "Total section with controls",
        "Book Now button"
      ],
      "controls": {
        "round_trip_checkbox": "Left side below total, enabled by default",
        "nights_toggle": "Right side, +/- buttons for real-time price updates"
      }
    },
    "loading_screen": {
      "style": "Simple spinner with 'Curating your getaway...' text",
      "avoid": "No WNRS-style rotating quotes - keep it simple"
    }
  },

  "ai_summaries": {
    "max_length": "3-4 lines, under 40 words",
    "timing_hooks": [
      "post-holiday lull (Dec/Jan)",
      "shoulder season pricing (Mar-May, Sep-Nov)",
      "peak season (Jun-Aug)",
      "off-peak deals (generic)"
    ],
    "tips_display": "Below summary with emojis, 2-column grid",
    "price_rounding": "Round to nearest $100 for cleaner presentation"
  },

  "airports": {
    "current_count": 98,
    "us_major": ["ATL", "AUS", "BNA", "BOS", "BWI", "CLE", "CLT", "CVG", "DCA", "DEN", "DFW", "DTW", "EWR", "FLL", "HNL", "IAD", "IAH", "IND", "JAX", "JFK", "LAS", "LAX", "LGA", "MCI", "MCO", "MDW", "MIA", "MSP", "MSY", "OAK", "ORD", "PBI", "PDX", "PHL", "PHX", "PIT", "RDU", "RSW", "SAN", "SAT", "SEA", "SFO", "SJC", "SLC", "SMF", "SNA", "STL", "TPA"],
    "europe": ["LHR", "LGW", "CDG", "AMS", "FRA", "MUC", "ZRH", "FCO", "MXP", "BCN", "MAD", "LIS", "ATH", "VIE", "CPH", "ARN", "OSL", "HEL", "DUB", "EDI", "BRU", "PRG", "WAW", "IST"],
    "asia_pacific": ["DEL", "BOM", "BLR", "SIN", "HKG", "NRT", "HND", "ICN", "PEK", "PVG", "BKK", "CGK", "KUL", "SYD", "MEL", "AKL"],
    "americas_middle_east": ["YYZ", "YVR", "MEX", "GRU", "EZE", "BOG", "SCL", "DXB", "DOH", "TLV", "JNB"],
    "default_fallback": "SFO"
  },

  "booking_flow": {
    "current_implementation": "Duffel Links for flights",
    "hotel_booking": "Pending Booking.com affiliate approval - currently using Google Hotels fallback",
    "cancellation_policy": "1-hour free cancellation after booking",
    "book_now_behavior": "Opens Duffel checkout in new tab with pre-populated flight details"
  },

  "known_issues": {
    "geolocation": "Safari requires user gesture to trigger permission - may default to SFO",
    "mock_data_fallback": "If APIs fail, shows mock data with 'mock_' prefixed IDs",
    "duffel_inventory": "May not have all airlines - Google Flights aggregates more sources"
  },

  "development_workflow": {
    "baseline_version": "v0.1 - always use as starting point for builds",
    "file_naming": "Always output 'takemeto75.zip' - consistent naming",
    "deployment_command": "cd ~/Downloads && rm -rf takemeto75 && unzip takemeto75.zip -d takemeto75 && cd takemeto75 && npm install && vercel --prod",
    "environment_setup": {
      "local": ".env.local with API keys",
      "vercel": "Environment Variables in dashboard or via CLI"
    },
    "zip_cleanup": "Always remove node_modules, .next, .vercel before zipping"
  },

  "critical_development_rules": [
    "NEVER make broader changes than specifically requested",
    "Preserve existing working elements when making updates",
    "Test builds before outputting zips",
    "Keep responses lean - single zip file with deploy instructions",
    "Triple-check code functionality before delivery",
    "Design changes require precise implementation only",
    "Always maintain original aesthetic elements",
    "v0.1 is the functional baseline for any build request"
  ],

  "file_structure": {
    "app": {
      "page.tsx": "Main UI component with all modals and state",
      "layout.tsx": "Root layout with fonts",
      "globals.css": "Tailwind + custom CSS variables",
      "api": {
        "destinations/route.ts": "Weather-filtered destination endpoint",
        "package/route.ts": "Combined flight + hotel search",
        "summary/route.ts": "AI-generated destination summaries",
        "book/route.ts": "Booking creation endpoint"
      }
    },
    "lib": {
      "types.ts": "TypeScript interfaces + tier config",
      "destinations.ts": "Destination database with blurbs, coordinates, highlights",
      "weather.ts": "WeatherAPI client + mock fallback",
      "duffel.ts": "Duffel API: search, book, cancel",
      "claude-selector.ts": "AI tier optimization logic",
      "utils.ts": "Date/price formatting utilities"
    }
  },

  "destinations_data_structure": {
    "required_fields": [
      "id",
      "city",
      "country",
      "airport",
      "lat",
      "lon",
      "region",
      "costIndex",
      "description",
      "highlights"
    ],
    "highlights_format": "Array of 4 tips with emojis (e.g., 'üèñÔ∏è 14 miles of beaches')",
    "regions": ["caribbean", "central_america", "usa_domestic", "europe", "asia", "middle_east", "africa", "oceania"]
  },

  "vercel_configuration": {
    "project_name": "takemeto75",
    "team": "vm-nustrips-projects",
    "environment_variables": [
      "WEATHER_API_KEY",
      "DUFFEL_API_TOKEN", 
      "ANTHROPIC_API_KEY"
    ],
    "build_command": "npm run build",
    "output_directory": ".next",
    "cleanup_duplicates": "Delete any duplicate projects (vm-nustrips-takemeto75, vm-nustrips-takemeto75-wzr9, etc.)"
  },

  "github_workflow": {
    "repo": "vm-nustrips/takemeto75",
    "branch": "main",
    "push_commands": [
      "git add .",
      "git commit -m 'description'",
      "git push"
    ],
    "force_push": "git push --force (use when replacing entire codebase)"
  },

  "user_preferences": {
    "output_format": "Single zip file with unzip + deploy instructions",
    "response_style": "Lean, no unnecessary explanations",
    "error_handling": "Fix issues without breaking working features",
    "design_changes": "Implement ONLY what's requested, preserve everything else"
  },

  "changelog": [
    {
      "date": "2026-01-08",
      "updates": [
        "Verified Duffel Flights API working with live token - returning real American Airlines data",
        "Confirmed Duffel Stays API NOT enabled on account",
        "Emailed Duffel sales to request Stays API access",
        "Booking.com AWIN affiliate still pending approval",
        "Current state: Flights=REAL, Hotels=MOCK"
      ],
      "next_steps": [
        "Wait for Duffel Stays enablement response",
        "Implement Duffel Stays in lib/hotels.ts once enabled"
      ]
    }
  ]
}
